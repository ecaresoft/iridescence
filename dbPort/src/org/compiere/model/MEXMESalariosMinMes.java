package org.compiere.model;import java.math.BigDecimal;import java.sql.PreparedStatement;import java.sql.ResultSet;import java.util.Properties;import org.compiere.util.DB;/** * Modelo para Salarios Minimos Mensuales * * <b>Fecha:</b> 07/Febrero/2006<p> * <b>Modificado: </b> $Author: gisela $<p> * <b>En :</b> $Date: 2006/04/18 14:38:02 $<p> * * @author Gisela Lee * @version $Revision: 1.1 $ */public class MEXMESalariosMinMes extends X_EXME_Salarios_Min_Mes {        /**	 * 	 */	private static final long	serialVersionUID	= 1L;	/**     * @param ctx     * @param ID     */    public MEXMESalariosMinMes(Properties ctx, int ID, String trx) {        super(ctx, ID, trx);    }    /**     * @param ctx     * @param rs     */    public MEXMESalariosMinMes(Properties ctx, ResultSet rs, String trx) {        super(ctx, rs, trx);    }        /**     * Obtenemos el salario minimo mensual de acuerdo a los ingresos y al numero de     * miembros     * @param ctx El contexto de la aplicacion     * @param ingresos El total de ingresos      * @return El costo del producto segun la configuracion de precios. Si no lo encuentra entonces 0.      */
    public static MEXMESalariosMinMes getByIndice(Properties ctx, BigDecimal ingresos, 
            BigDecimal numMiembros, String trxName){        MEXMESalariosMinMes sal = null;                String sql = "SELECT * FROM EXME_Salarios_Min_Mes WHERE " +                //"AD_Client_ID = ? AND " +                " ? BETWEEN Sal_Min_Inicial AND Sal_Min_Final " +                " AND ? BETWEEN Num_Miem_Inicial AND Num_Miem_Final AND IsActive = 'Y'";                sql = MEXMELookupInfo.addAccessLevelSQL(ctx, sql, "EXME_Salarios_Min_Mes");                PreparedStatement pstmt = null;        ResultSet rs = null;                try{            pstmt = DB.prepareStatement(sql, trxName);            //pstmt.setInt(1, Env.getAD_Client_ID(ctx));            pstmt.setBigDecimal(1, ingresos);            pstmt.setBigDecimal(2, numMiembros);            rs = pstmt.executeQuery();                    if(rs.next()){                    sal = new MEXMESalariosMinMes(ctx, rs, trxName);            }                               } catch (Exception e) {        	e.printStackTrace();//FIXME        } finally {        	DB.close(rs, pstmt);        }                return sal;    }    }